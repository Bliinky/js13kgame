<!DOCTYPE html>
<html>
<head>
<title>js13kgame</title>
<meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" name="viewport">
<meta charset="utf-8"></head>
<style>body,html{display:block;height:100%}#canvas{width:600px;height:800px;display:block;border:1px solid #000;margin:50px auto}</style>
<body></body>
<script>
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();!function(){var e={UP_KEYCODE:38,LEFT_KEYCODE:37,RIGHT_KEYCODE:39},n=!1,t=!1,a=!1,i=function(){function i(){_classCallCheck(this,i)}return _createClass(i,null,[{key:"_keyDownHandler",value:function(i){switch(i.keyCode){case e.UP_KEYCODE:n=!0;break;case e.LEFT_KEYCODE:t=!0;break;case e.RIGHT_KEYCODE:a=!0}}},{key:"_keyUpHandler",value:function(i){switch(i.keyCode){case e.UP_KEYCODE:n=!1;break;case e.LEFT_KEYCODE:t=!1;break;case e.RIGHT_KEYCODE:a=!1}}},{key:"isKeyPressed",value:function(i){switch(i){case e.UP_KEYCODE:return n;case e.LEFT_KEYCODE:return t;case e.RIGHT_KEYCODE:return a}}}]),i}();window.addEventListener("keydown",i._keyDownHandler,!1),window.addEventListener("keyup",i._keyUpHandler,!1);var l=1,o=5,r=-10,s=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"checkCollision",value:function(e,n){return!(e.x>=n.x+n.width||e.x+e.width<=n.x||e.y>=n.y+n.height||e.y+e.height<=n.y)}},{key:"moveLeft",value:function(e,n){n=n||o,e.velX=-n}},{key:"moveRight",value:function(e,n){n=n||o,e.velX=n}},{key:"jump",value:function(e,n){n=n||r,e.velY+=n}},{key:"update",value:function(e){e.x+=e.velX,e.velX=0,e.y+=e.velY,e.velY+=l}}]),e}(),c=function e(n,t,a,i){_classCallCheck(this,e),this.x=n,this.y=t,this.width=a,this.height=i,this.velX=0,this.velY=0},u=60,h=document.createElement("canvas");h.id="canvas",h.width="600",h.height="800",document.getElementsByTagName("body")[0].appendChild(h);var y=h.getContext("2d"),E=new c(100,10,10,10),d=new c(0,185,50,10);E.onGround=!1;var v=function(){function n(){_classCallCheck(this,n)}return _createClass(n,null,[{key:"start",value:function(){n.loop()}},{key:"loop",value:function(){i.isKeyPressed(e.LEFT_KEYCODE)?s.moveLeft(E):i.isKeyPressed(e.RIGHT_KEYCODE)&&s.moveRight(E),i.isKeyPressed(e.UP_KEYCODE)&&E.onGround&&s.jump(E),s.checkCollision(E,d)&&(E.velY=0,E.y=d.y-E.height),E.onGround=E.y===d.y-10&&E.x<d.x+d.width,s.update(E),n.render(E),n.render(d),setTimeout(n.loop,1/u*1e3)}},{key:"render",value:function(e){y.clearRect(0,0,600,800),y.stroke(),y.beginPath(),y.rect(e.x,e.y,e.width,e.height),y.closePath(),y.stroke()}}]),n}();console.log("ok watch 22"),v.start()}();
</script>
</html>
